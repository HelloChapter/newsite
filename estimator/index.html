<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://www.hellochapter.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
            maximum-scale=1.0,
            user-scalable=0" />
    <title>Cost Estimator | Chapter</title>
    <link rel="preload" href="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/css/slick.css?rsct=text/css"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/css/aos.css?rsct=text/css"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="../css/pages/cost-estimator.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" />
    <script src="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/js/jquery.min.js"></script>
</head>
<style>

</style>

<body>
    <div class="wrapper">
        <div class="page-estimator">
            <!-- Header end -->
            <div class="middle-content">
                <div class="cost-estimator-wrap">
                    <div class="row main-row">
                        <div class="col col-8 pearl-bg3 col-cost-estimator">
                            <div class="row">
                                <div class="col col-7">
                                    <div class="heading-text">
                                        <h2>Live renovation cost estimator</h2>
                                        <p>Easily adjust your budget estimation while prioritizing <br />the renovation
                                            standards that matter to you.</p>
                                    </div>
                                    <div class="row">
                                        <div class="col-6 col">
                                            <div class="label size"> Size: <span id="sizeText">Medium</span></div>
                                            <input class="customRange" type="range" id="sizeRange" min="10" max="90"
                                                value="50"
                                                name="sizeRange"
                                            >
                                        </div>
                                        <div class="col-6 col">
                                            <div class="label quality">Quality: <span id="sizeText2">Medium</span>
                                            </div>
                                            <input class="customRange" type="range" id="complexityRange" min="10"
                                                max="90" value="50"
                                                name="complexityRange"
                                            >
                                        </div>
                                        <div class="col-6 col">
                                            <div class="label scope">Scope: <span id="sizeText3">Medium</span></div>
                                            <input class="customRange" type="range" id="scopeRange" min="10" max="90"
                                                value="50"
                                                name="scopeRange"
                                            >
                                        </div>
                                        <div class="col-6 col">
                                            <div class="label complexity">Complexity: <span id="sizeText4">Medium</span>
                                            </div>
                                            <input class="customRange" type="range" id="qualityRange" min="10" max="90"
                                                value="50"
                                                name="qualityRange"
                                            >
                                        </div>
                                    </div>
                                </div>
                                <div class="col col-5 align-self-center">
                                    <div class="svg-box">
                                        <div class="size sizes">Size</div>
                                        <div class="quality sizes">Quality</div>
                                        <div class="scope sizes">Scope</div>
                                        <div class="complexity sizes">Complexity</div>
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="40 40 120 120" width="180"
                                            height="180" style="display: block;">
                                            <polygon id="dynamicPolygon" fill="#b4a494" opacity="0.7" stroke="black"
                                                stroke-width="1" />
                                            <circle id="circle1" cx="100" cy="45" r="5" fill="white" stroke="black" />
                                            <circle id="circle2" cx="155" cy="100" r="5" fill="white" stroke="black" />
                                            <circle id="circle3" cx="100" cy="155" r="5" fill="white" stroke="black" />
                                            <circle id="circle4" cx="45" cy="100" r="5" fill="white" stroke="black" />
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col col-4 pearl-bg2 col-estimated-cost">
                            <div class="estimated-cost-wrap">
                                <h2>$<span id="estimatedCost">0</span>K - $<span id="complexityCost">0</span>K</h2>
                                <div class="cost-breakdown" id="costBreakdown">
                                    <p>Estimated Cost</p>
                                    <p id="propertyType">Townhouse/Brownstone</p>
                                    <p id="renovationType">Full-house renovation</p>
                                </div>
                                <div class="cost-breakdown" id="costBreakdown2">
                                    <h3>Cost Breakdown</h3>
                                    <p>Cost Component #1.........$00K-$00K</p>
                                    <p>Cost Component #2.........$00K-$00K</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="custom-slick-slider-wrap pt-50">
                        <div class="container">
                            <div class="price-range text-center pb-30">
                                <h2>Projects Completed within the price range</h2>
                            </div>
                            <div id="slick-slider" class="custom-slick-slider">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Middle container end -->
            <section class="footer-intro-text">
                <div class="container">
                    <div class="row mobile-hide">
                        <div class="col col-copyright-text">
                            <p>Copyright © 2024 Hello Chapter LLC. All rights reserved.</p>
                        </div>
                        <div class="col text-center col-dream-text">
                            <p>DREAM UNTIL YOUR DREAM COMES TRUE.</p>
                        </div>
                        <div class="col text-right col-privacy-text">
                            <a href="/privacy/">Privacy Policy</a> |
                            <a href="/terms/">Terms of Service</a>
                        </div>
                    </div>
                    <div class="row desktop-hide">
                        <div class="col text-center col-dream-text">
                            <p>DREAM UNTIL YOUR DREAM COMES TRUE.</p>
                            <div class="privacy-link">
                                <a href="/privacy/">Privacy Policy</a> <span class="line"> |</span>
                                <a href="/terms/">Terms of Service</a>
                            </div>
                        </div>
                        <div class="col col-copyright-text">
                            <p>Copyright © 2024 Hello Chapter LLC. <span>All rights reserved.</span></p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Footer end -->
        </div>
        <!-- Page wrapper end -->
    </div>
    <!-- Wrapper end -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
    <script defer src="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/js/aos.js"></script>
    <script defer src="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/js/slick.js"></script>
    <script defer src="https://chapter-dev-endpoinnt.azureedge.net/public/assets/cdn/js/custom.js"></script>
    <script src="../js/custom.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sizeRange = document.getElementById('sizeRange');
            const complexityRange = document.getElementById('complexityRange');
            const scopeRange = document.getElementById('scopeRange');
            const qualityRange = document.getElementById('qualityRange');
            const polygon = document.getElementById('dynamicPolygon');

            // Function to generate diamond points based on slider values
            function generateDiamondPoints(size, complexity, scope, quality) {
                const centerX = 100;
                const centerY = 100;
                const points = [
                    `${centerX},${centerY - size}`,          // Top point (Size)
                    `${centerX + quality},${centerY}`,       // Right point (Quality)
                    `${centerX},${centerY + scope}`,         // Bottom point (Scope)
                    `${centerX - complexity},${centerY}`     // Left point (Complexity)
                ];
                return points.join(' ');
            }

            // Function to update cost breakdown based on input values
            function updateCostBreakdown(size, complexity, scope, quality) {
                const baseCost = 50000; // Base cost for calculations
                const estimatedCost = Math.floor((size + complexity + scope + quality) / 4);
                document.getElementById('estimatedCost').innerText = estimatedCost;
                document.getElementById('complexityCost').innerText = estimatedCost+10;
                
            }

            function updateTextBasedOnInput(renovationOptions, size, complexity, scope, quality) {
                const propertyType = document.getElementById('propertyType');
                const renovationType = document.getElementById('renovationType');

                // Find the matching renovation option from the JSON data

                const matchingOption = renovationOptions.find(option => {
                    return (option.size === getSizeCategory(size) &&
                        option.complexity === getComplexityCategory(complexity) &&
                        option.scope === getScopeCategory(scope) &&
                        option.quality === getQualityCategory(quality));
                });

                // Update the innerText with values from the JSON data if a match is found
                if (matchingOption) {
                    propertyType.innerText = matchingOption.propertyType;
                    renovationType.innerText = matchingOption.renovationType;
                } else {
                    // Default values if no match is found
                    propertyType.innerText = 'Unknown Property Type';
                    renovationType.innerText = 'Unknown Renovation Type';
                }
            }
            

            // Function to update the diamond shape and cost breakdown based on range inputs
            function initiateDiamond(e) {
                const size = parseInt(sizeRange.value);
                const complexity = parseInt(complexityRange.value);
                const scope = parseInt(scopeRange.value);
                const quality = parseInt(qualityRange.value);
                const points = generateDiamondPoints(size, complexity, scope, quality);
                polygon.setAttribute('points', points);

                // Update circle positions
                document.getElementById('circle1').setAttribute('cy', 100 - size);
                document.getElementById('circle2').setAttribute('cx', 100 + quality);
                document.getElementById('circle3').setAttribute('cy', 100 + scope);
                document.getElementById('circle4').setAttribute('cx', 100 - complexity);

                updateCostBreakdown(size, complexity, scope, quality);
                // updateTextBasedOnInput(renovationOptions, size, complexity, scope, quality);
            }

            // Initial diamond rendering based on default values
            initiateDiamond();

            // handler function for range selectors
            const updateDiamond = (e) => {
                // update diamond
                const size = parseInt(sizeRange.value);
                const complexity = parseInt(complexityRange.value);
                const scope = parseInt(scopeRange.value);
                const quality = parseInt(qualityRange.value);
                const points = generateDiamondPoints(size, complexity, scope, quality);
                polygon.setAttribute('points', points);

                // Update circle positions
                document.getElementById('circle1').setAttribute('cy', 100 - size);
                document.getElementById('circle2').setAttribute('cx', 100 + quality);
                document.getElementById('circle3').setAttribute('cy', 100 + scope);
                document.getElementById('circle4').setAttribute('cx', 100 - complexity);
                // update diamond

                updateCostBreakdown(size, complexity, scope, quality);
            }

            // Add event listeners to update the diamond when the range values change
            sizeRange.addEventListener('input', updateDiamond);
            complexityRange.addEventListener('input', updateDiamond);
            scopeRange.addEventListener('input', updateDiamond);
            qualityRange.addEventListener('input', updateDiamond);

            $('.slick-slider').slick({
                // Slick slider settings
                infinite: false,
                slidesToShow: 1,
                slidesToScroll: 1,
                arrows: true
            });

            const sizeRange1 = document.getElementById('sizeRange');
            const sizeText = document.getElementById('sizeText');

            function updateSizeTextAndSlider(value) {
                let text;
                let slideIndex;
                if (value <= 30) {
                    text = 'Small';
                    slideIndex = 0;
                } else if (value <= 60) {
                    text = 'Medium';
                    slideIndex = 1;
                } else {
                    text = 'Large';
                    slideIndex = 2;
                }

                sizeText.textContent = text;
                $('.slick-slider').slick('slickGoTo', slideIndex);
            }

            sizeRange1.addEventListener('input', () => {
                updateSizeTextAndSlider(sizeRange1.value);
            });

            // Initialize on page load
            updateSizeTextAndSlider(sizeRange1.value);
        });

        jQuery(document).ready(function ($) {
            const sliderContainer = $('#slick-slider');

            // Fetching the data for the slider
            fetch('../js/cost-estimator.json')
                .then(response => response.json())
                .then(data => {
                    const pathname = window.location.pathname;
                    const filteredData = data.filter(post => post.blogUrl !== pathname);
                    shuffleArray(filteredData);

                    filteredData[0]?.imges?.forEach(post => {
                        const slide = `
                            <div class="custom-slide">
                                <div class="slide-image-wrap">
                                    <img src="${post.imageUrl}" alt="Image">
                                </div>
                            </div>
                        `;
                        sliderContainer.append(slide);
                    });

                    // Initialize slick slider after appending elements
                    sliderContainer.slick({
                        infinite: false,
                        slidesToShow: 3,
                        slidesToScroll: 1,
                        arrows: true,
                    });
                    console.log("Full data object:", data); // Log the entire data
                    const renovationOptions = data[0]?.renovationOptions;
                    console.log("renovationOptions",renovationOptions)

                // Helper functions to categorize input values into the JSON categories
                function getSizeCategory(size) {
                    if (size <= 30) return 'Small';
                    else if (size <= 60) return 'Medium';
                    else return 'Large';
                }

                    function getComplexityCategory(complexity) {
                        if (complexity <= 30) return 'Simple';
                        else if (complexity <= 60) return 'Moderate';
                        else return 'Complex';
                    }

                    function getScopeCategory(scope) {
                        if (scope <= 30) return 'Minimal';
                        else if (scope <= 60) return 'Standard';
                        else return 'Full';
                    }

                    function getQualityCategory(quality) {
                        if (quality <= 30) return 'Low';
                        else if (quality <= 60) return 'Medium';
                        else return 'High';
                    }
                    updateTextBasedOnInput(renovationOptions, size, complexity, scope, quality);
                })
                .catch(error => {
                    //console.error('Error fetching blog data:', error);
                });
                
            // Shuffle function for the array
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }
        });
    </script>
</body>

</html>